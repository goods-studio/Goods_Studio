<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>new</title>
  <link rel="icon" href="https://images.unsplash.com/photo-1571907483091-fbe746bee132?q=80&amp;w=1170&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" />
  <style>
html, body { height: 100%; }
body {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  margin: 0;
  padding: 1.5rem;
  background: #0b1220;
  color: #e5e7eb;
  font-family: system-ui,-apple-system,sans-serif;
  font-size: 16px;
}
header, footer { margin-bottom: 1rem; }
footer { margin-top: auto; }
main {
  flex: 1 0 auto;
  background: rgba(15,23,42,.9);
  padding: 1.25rem;
  border-radius: .75rem;
  box-shadow: none;
}
img { max-width: 100%; height: auto; display: block; margin: .75rem 0; border-radius: .5rem; }
a.effect-shadow, .effect-shadow { box-shadow: 0 12px 30px rgba(0, 0, 0, 0.45); }
a.effect-glow, .effect-glow { box-shadow: 0 0 24px rgba(99, 102, 241, 0.65); }
.site-title { font-size: 1.5rem; font-weight: 700; margin-bottom: .75rem; }
.site-header { display: flex; align-items: center; gap: .5rem; padding: .75rem 1rem; border-radius: .25rem; background: rgba(15,23,42,.9); }
.site-avatar { width: 72px; height: 72px; object-fit: cover; border-radius: 12px; border: 2px solid rgba(255,255,255,.4); box-shadow: 0 8px 20px rgba(0,0,0,.45); }
a.button-link {
  display: inline-block;
  border-radius: 18px;
  border: none;
  background: #2563eb;
  color: #fff;
  text-decoration: none;
  cursor: pointer;
  box-shadow: none;
}
.contact-form-shell {
  max-width: 640px;
  margin: 1rem auto;
  padding: 1rem;
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  background: rgba(15,23,42,.9);
}
.sb-contact-form {
  display: grid;
  gap: .7rem;
}
.sb-contact-form input,
.sb-contact-form textarea {
  width: 100%;
  box-sizing: border-box;
  border: 1px solid rgba(148, 163, 184, .4);
  border-radius: 12px;
  padding: .65rem .8rem;
  background: rgba(0, 0, 0, .08);
  color: #e5e7eb;
}
.sb-contact-form button {
  border: none;
  border-radius: 18px;
  padding: .7rem 1rem;
  font-weight: 600;
  background: #2563eb;
  color: #fff;
  cursor: pointer;
  box-shadow: none;
}
.sb-hp {
  position: absolute !important;
  left: -9999px !important;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
}
.sb-contact-success,
.sb-contact-error {
  margin-top: .55rem;
  font-size: .95rem;
}
.sb-contact-success { color: #34d399; }
.sb-contact-error { color: #fca5a5; }
.sb-site-ad {
  margin: 1rem auto;
  max-width: 760px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  border-radius: 14px;
  padding: .9rem 1rem;
  background: rgba(2, 6, 23, 0.3);
}
.sb-site-ad-title {
  font-size: .82rem;
  text-transform: uppercase;
  letter-spacing: .08em;
  opacity: .85;
  margin-bottom: .25rem;
}
.sb-site-ad-text {
  margin-bottom: .3rem;
}
.sb-site-ad-link {
  color: #2563eb;
  text-decoration: none;
}
.sb-site-ad-link:hover {
  text-decoration: underline;
}

  </style>
</head>
<body>
  <div class="site-title " style="text-align:left;color:#e5e7eb">new</div>
  <header class="site-header " style="text-align:left;color:#e5e7eb">
    <img class="site-avatar" src="https://images.unsplash.com/photo-1571907483091-fbe746bee132?q=80&amp;w=1170&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Logo" />
    <div>New</div>
  </header>
  <main>
    <div class="contact-form-shell effect-glow" style="text-align:center;border-radius:0px;box-shadow:none;">
      <form class="sb-contact-form" data-site-id="de79cc93-f62b-4ca7-8e4d-dba691a34028" style="grid-template-columns:repeat(2, minmax(0,1fr));">
        <input type="text" name="name" placeholder="Ваше имя" required style="grid-column: span 1;">
        <input type="email" name="email" placeholder="Ваш email" required style="grid-column: span 1;">
        <textarea name="message" placeholder="new" rows="5" required style="grid-column:1 / -1;"></textarea>
        <input type="text" name="honeypot" autocomplete="off" tabindex="-1" class="sb-hp">
        <button type="submit" style="grid-column:1 / -1;background:#2563eb;border-radius:0px;box-shadow:none;font-family:&#39;Lora&#39;,serif;font-size:24px;">Send</button>
      </form>
      <div class="sb-contact-success" hidden>Сообщение отправлено.</div>
      <div class="sb-contact-error" hidden>Ошибка. Попробуйте позже.</div>
    </div>
    <div class="" style="text-align:left;color:#e5e7eb;font-family:&#39;Inter&#39;,sans-serif;font-size:16px;border-radius:12px;box-shadow:none;"><section><h3>Секция</h3></section></div>
    <div class="effect-glow" style="text-align:left;color:#e5e7eb;font-family:system-ui,-apple-system,sans-serif;font-size:21px;border-radius:12px;box-shadow:none;">
      <table style="width:100%;border-collapse:collapse;">
        <tr>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">s</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">e</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
        </tr>
        <tr>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">,</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
          <td style="border:1px solid rgba(148,163,184,.35);padding:.55rem .65rem;">S</td>
        </tr>
      </table>
    </div>
  </main>
  <!--SB_AD_START-->
  <aside class="sb-site-ad">
    <div class="sb-site-ad-title">Реклама</div>
    <div class="sb-site-ad-text">Создано в SiteBuilding. Создайте свой сайт за пару минут.</div>
    <a class="sb-site-ad-link" href="https://sitebuilding.onrender.com/" target="_blank" rel="noopener noreferrer">sitebuilding.onrender.com</a>
  </aside>
  <!--SB_AD_END-->
  <script>
    document.querySelectorAll('.sb-contact-form').forEach(function(form) {
      form.addEventListener('submit', async function(event) {
        event.preventDefault();
        var card = form.closest('.contact-form-shell');
        var success = card ? card.querySelector('.sb-contact-success') : null;
        var error = card ? card.querySelector('.sb-contact-error') : null;
        if (success) success.hidden = true;
        if (error) { error.hidden = true; error.textContent = 'Ошибка. Попробуйте позже.'; }
        var endpoints = ['https://sitebuilding.onrender.com/api/messages', 'https://sitebuilding.onrender.com/api/messages', '/api/messages'];
        endpoints = endpoints.filter(function(v, i, arr) { return arr.indexOf(v) === i; });
        var payload = {
          siteId: form.dataset.siteId,
          name: form.querySelector('[name="name"]').value,
          email: form.querySelector('[name="email"]').value,
          message: form.querySelector('[name="message"]').value,
          honeypot: form.querySelector('[name="honeypot"]').value
        };
        try {
          var resp = null;
          var lastNetworkError = null;
          var lastHttpResp = null;
          for (var i = 0; i < endpoints.length; i++) {
            try {
              resp = await fetch(endpoints[i], {
                method: 'POST',
                mode: 'cors',
                headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                body: JSON.stringify({ siteId: payload.siteId, name: payload.name, email: payload.email, content: payload.message, honeypot: payload.honeypot })
              });
              if (resp && resp.ok) {
                break;
              }
              lastHttpResp = resp;
              resp = null;
            } catch (networkErr) {
              lastNetworkError = networkErr;
            }
          }
          if (!resp) {
            if (lastHttpResp) {
              resp = lastHttpResp;
            } else {
              throw (lastNetworkError || new Error('network_error'));
            }
          }
          if (!resp.ok) {
            var problem = null;
            try { problem = await resp.json(); } catch (_) { }
            var reason = problem && problem.reason ? problem.reason : '';
            if (error) {
              if (reason === 'invalid_email') error.textContent = 'Неверный формат email.';
              else if (reason === 'invalid_name') error.textContent = 'Неверное имя.';
              else if (reason === 'invalid_message' || reason === 'invalid_content') error.textContent = 'Неверная длина сообщения.';
              else if (reason === 'rate_limit') error.textContent = 'Это устройство уже отправляло сообщение. Попробуйте немного позже.';
              else if (reason === 'limit') error.textContent = 'Дневной лимит исчерпан. Попробуйте позже.';
              else if (reason === 'site_not_found') error.textContent = 'Сайт не найден. Опубликуйте его заново.';
              else if (reason === 'spam') error.textContent = 'Сообщение заблокировано антиспамом.';
              else error.textContent = 'Ошибка. Попробуйте позже.';
            }
            throw new Error('send_failed');
          }
          form.reset();
          if (success) success.hidden = false;
        } catch (e) {
          if (error && (!error.textContent || error.textContent === 'Ошибка. Попробуйте позже.')) error.textContent = 'Ошибка сети/CORS. Попробуйте позже.';
          if (error) error.hidden = false;
        }
      });
    });
  </script>
</body>
</html>
